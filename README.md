Re-implementation of [green thread](https://c9x.me/articles/gthreads/intro.html)